DEFAULT_ROUTER_SYSTEM = (
    "Ты строгий классификатор категорий. "
    "Отвечай только JSON без Markdown, без лишнего текста. "
    "Допустимы только поля: category, reasoning. "
    "category должна быть одной из доступных категорий."
)

DEFAULT_ROUTER_USER = (
    "Текст пользователя:\n{text}\n\n"
    "Категории:\n{categories}\n\n"
    "Верни JSON строго такого вида:\n"
    '{"category": "X", "reasoning": "кратко 1-2 предложения"}\n'
    "Никаких других ключей."
)

DEFAULT_EXTRACT_SYSTEM = (
    "Ты извлекаешь структурированные данные из текста. "
    "Отвечай только JSON без Markdown и без лишнего текста. "
    "Ключи строго из списка заголовков. "
    "Не добавляй новых ключей и не меняй названия."
)

DEFAULT_EXTRACT_USER = (
    "Текст пользователя: '{text}'.\n"
    "Столбцы таблицы: {headers}.\n"
    "Сегодняшняя дата: {today}.\n"
    "Задача: извлечь данные строго под эти столбцы.\n"
    "Верни JSON, где ключи — это названия столбцов, значения — строки.\n"
    "Правила:\n"
    "- Никакого Markdown, списков, комментариев, только JSON.\n"
    "- Не добавляй новых ключей.\n"
    "- Если данных для столбца нет, ставь пустую строку.\n"
    "- Даты ВСЕГДА в формате DD.MM.YYYY (через точку).\n"
    "- Если в тексте есть относительная дата (например, 'в следующую среду'), вычисли точную дату от 'Сегодняшняя дата'.\n"
    "- Для расходов: если категория не названа явно, определи её по смыслу (Продукты, Услуги, Транспорт и т.д.).\n"
    "- Числа без валюты и лишних слов.\n"
    "- Не добавляй звёздочки или форматирование в ключах."
)

ROUTER_PROMPT_KEY = "router_user"
EXTRACT_PROMPT_KEY = "extract_user"
